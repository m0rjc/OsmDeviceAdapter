# Example values for osm-device-adapter-secrets
# Copy this file and customize with your actual secrets
# DO NOT commit files containing real secrets to version control!
#
# Usage:
#   helm install osm-secrets ./charts/secrets -f values-production.yaml
#
# Then configure the main chart to use these secrets:
#   helm install osm-adapter ./charts/osm-device-adapter \
#     --set osm.existingSecret=osm-device-adapter-secrets \
#     --set database.existingSecret=osm-device-adapter-secrets \
#     --set redis.existingSecret=osm-device-adapter-secrets

# Namespace where secrets will be created
# Leave empty to use the release namespace
namespace: ""

# Secret naming strategy
# - "unified": Create a single secret with all credentials (recommended)
# - "separate": Create separate secrets for OSM, database, and Redis
secretStrategy: "unified"

# Name for the unified secret (only used when secretStrategy is "unified")
# If not set, defaults to the release name (e.g., "osm-secrets")
# This is the name you'll reference in the main chart's existingSecret values
unifiedSecretName: "osm-device-adapter-secrets"

# Individual secret names (only used when secretStrategy is "separate")
# These are the names you'll reference in the main chart
secretNames:
  osm: "osm-oauth-credentials"
  database: "database-credentials"
  redis: "redis-credentials"

# OSM OAuth credentials
# Obtain these from your OSM OAuth application configuration
osm:
  # OSM OAuth Client ID (public identifier)
  clientId: "your-osm-client-id"

  # OSM OAuth Client Secret (KEEP SECRET!)
  clientSecret: "your-osm-client-secret"

# Database connection
database:
  # Full PostgreSQL connection string
  # Format: postgres://username:password@hostname:port/database?sslmode=require
  #
  # Examples:
  #   Local: postgres://osmadapter:secret@localhost:5432/osmadapter
  #   Cloud: postgres://user:pass@db.example.com:5432/production?sslmode=require
  #   With special chars: postgres://user:p%40ssw0rd@host:5432/db
  #
  url: "postgres://osmadapter:changeme@postgresql-service:5432/osmadapter?sslmode=require"

# Redis connection
redis:
  # Redis connection URL
  # Format: redis://[username:password@]hostname:port[/database]
  #
  # Examples:
  #   Basic: redis://redis-service:6379
  #   With password: redis://:mypassword@redis-service:6379
  #   With user+pass: redis://default:mypassword@redis-service:6379/0
  #   TLS: rediss://redis-service:6380
  #
  url: "redis://redis-service:6379"

# ----------------------------------------------------------------------------
# Configuration Examples for Different Deployment Scenarios
# ----------------------------------------------------------------------------

# Example 1: Single unified secret (recommended for simplicity)
# ---------------------------------------------------------------
# secretStrategy: "unified"
# unifiedSecretName: "osm-device-adapter-secrets"
# osm:
#   clientId: "your-client-id"
#   clientSecret: "your-client-secret"
# database:
#   url: "postgres://user:pass@host:5432/db"
# redis:
#   url: "redis://host:6379"
#
# Main chart values:
#   osm.existingSecret: "osm-device-adapter-secrets"
#   database.existingSecret: "osm-device-adapter-secrets"
#   redis.existingSecret: "osm-device-adapter-secrets"

# Example 2: Separate secrets per component
# ------------------------------------------
# secretStrategy: "separate"
# secretNames:
#   osm: "osm-oauth-credentials"
#   database: "database-credentials"
#   redis: "redis-credentials"
# osm:
#   clientId: "your-client-id"
#   clientSecret: "your-client-secret"
# database:
#   url: "postgres://user:pass@host:5432/db"
# redis:
#   url: "redis://host:6379"
#
# Main chart values:
#   osm.existingSecret: "osm-oauth-credentials"
#   database.existingSecret: "database-credentials"
#   redis.existingSecret: "redis-credentials"

# Example 3: Using external secret management (e.g., External Secrets Operator)
# ------------------------------------------------------------------------------
# In this case, don't use this chart at all. Instead:
# 1. Configure your external secret manager to create the secrets
# 2. Ensure the secret keys match: osm-client-id, osm-client-secret, database-url, redis-url
# 3. Reference the external secrets in the main chart's values

# Example 4: Development environment with port forwards
# ------------------------------------------------------
# secretStrategy: "unified"
# unifiedSecretName: "osm-dev-secrets"
# osm:
#   clientId: "dev-client-id"
#   clientSecret: "dev-client-secret"
# database:
#   url: "postgres://osmadapter:devpassword@localhost:5432/osmadapter_dev"
# redis:
#   url: "redis://localhost:6379"
